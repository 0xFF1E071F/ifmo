#include <reg51.h>
unsigned int y;
main()
{   while(1)
    {y=(((P1&0xf0)>>4)*10 + (P1&0xf))<<8; //дробное в масштабе 102
      y=y/100; //перевод в двоичное дробное в масштабе 2n 
            P2=((y*10)&0xf00)>>4;
			P2+= ((((y*10)&0xff)*10)&0xf00)>>8;
     }   
}
